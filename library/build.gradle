apply plugin: 'com.android.library'
apply plugin: 'maven-publish'
apply plugin: 'kotlin-android'

android {
  namespace 'com.linchaolong.android.imagepicker'
  compileSdk 34

  defaultConfig {
    minSdkVersion 21
    targetSdkVersion 34
    testInstrumentationRunner 'androidx.test.runner.AndroidJUnitRunner'
  }

  buildTypes {
    release {
      minifyEnabled false
      proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
    }
  }

  publishing {
    singleVariant('release') {
      withSourcesJar()
      withJavadocJar()
    }
  }
}

afterEvaluate {
  publishing {
    publications {
      release(MavenPublication) {
        groupId = 'com.linchaolong.android'
        artifactId = 'imagepicker'
        version = '1.5.1'
        from components.release
        pom {
          name = 'ImagePicker'
          // 项目描述
          description = 'android image picker and cropper library'
          // 项目地址
          url = 'https://github.com/linchaolong/ImagePicker'
        }
      }
    }
  }
}


dependencies {
  implementation fileTree(dir: 'libs', include: ['*.jar'])
  implementation 'androidx.appcompat:appcompat:1.7.0'

  testImplementation "junit:junit:4.13.2"
  androidTestImplementation "androidx.test.ext:junit:1.1.5"
  androidTestImplementation("androidx.test.espresso:espresso-core:3.5.1")
}
